<div class="p-4">
  <h2 class="text-2xl font-bold">Matrículas</h2>
  <p class="mt-2 text-sm text-gray-600">Gestión de matrículas (listado y creación).</p>

  <div class="mt-4 space-y-3">
    <div class="flex items-center gap-2">
      <label class="text-sm">Alumno</label>
      <select (change)="onAlumnoChange($event)" class="input">
        <option value="">-- Seleccione --</option>
        <option *ngFor="let a of alumnos" [value]="a.id">{{ a.nombres }} {{ a.apellidos }}</option>
      </select>
    </div>
    <app-data-table [items]="matriculas" [columns]="columns" [newLabel]="selectedAlumnoId() ? 'Nueva matrícula' : null"
      (create)="openNew()">
    </app-data-table>

    <div *ngIf="matriculas.length === 0" class="text-sm text-gray-500">No hay matrículas para el alumno seleccionado.
    </div>
  </div>

  <app-entity-dialog [open]="showDialog()" (openChange)="showDialog.set($event)" [title]="'Nueva matrícula'"
    [schema]="schema" [submitFn]="submitFn" [onInit]="onInitFn" (closed)="onDialogClosed($event)">
  </app-entity-dialog>
</div>
