<div class="mb-4 flex items-center gap-2">
  <input [formControl]="search" class="input max-w-sm" placeholder="Buscar (nombre o documento)" />
  <button class="btn" (click)="openCreate()">Nuevo alumno</button>
</div>

<div class="card overflow-hidden">
  <table class="min-w-full divide-y divide-gray-200">
    <thead class="bg-gray-50 text-xs uppercase text-gray-600">
      <tr>
        <th class="px-4 py-3 text-left">Nombre</th>
        <th class="px-4 py-3 text-left">Documento</th>
        <th class="px-4 py-3 text-left">Ciudad</th>
        <th class="px-4 py-3 text-left">Dirección</th>
        <th class="px-4 py-3 text-left">Activo</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-100 bg-white text-gray-800">
      <tr *ngFor="let a of items()">
        <td class="px-4 py-3">{{ a.nombres }} {{ a.apellidos }}</td>
        <td class="px-4 py-3">{{ a.documentoIdentidad || '—' }}</td>
        <td class="px-4 py-3">{{ a.ciudad || '—' }}</td>
        <td class="px-4 py-3">{{ a.direccion || '—' }}</td>
        <td class="px-4 py-3">
          <span class="inline-flex items-center gap-2 rounded-full px-2.5 py-1 text-xs" [class.bg-green-100]="a.activo"
            [class.text-green-800]="a.activo" [class.bg-gray-100]="!a.activo" [class.text-gray-700]="!a.activo">
            <span class="h-2 w-2 rounded-full" [class.bg-green-500]="a.activo" [class.bg-gray-400]="!a.activo"></span>
            {{ a.activo ? 'Sí' : 'No' }}
          </span>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="mt-3 flex items-center gap-2">
  <button class="btn-outline" (click)="prev()" [disabled]="page() === 1">Anterior</button>
  <span class="text-sm text-gray-600">Página {{ page() }} / {{ totalPages() }}</span>
  <button class="btn-outline" (click)="next()" [disabled]="page() >= totalPages()">Siguiente</button>
</div>

<!-- Modal -->
<app-student-dialog [(open)]="creating" (closed)="onCreated($event)"></app-student-dialog>
